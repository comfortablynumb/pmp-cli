# Configure the Vault provider
provider "vault" {
  # Address will be set via VAULT_ADDR environment variable
  # Example: export VAULT_ADDR="http://vault.{{namespace}}.svc.cluster.local:8200"
  skip_child_token = true
}

# Create a KV v2 secret engine mount for the environment
resource "vault_mount" "kv" {
  path        = var.mount_name
  type        = "kv-v2"
  description = var.mount_description

  options = {
    version = "2"
  }
}
