variable "docker_image" {
  type        = string
  description = "Docker image name"
  default     = "{{docker_image}}"
}

variable "docker_image_version" {
  type        = string
  description = "Docker image tag/version"
  default     = "{{docker_image_version}}"
}

variable "min_replicas" {
  type        = number
  description = "Minimum number of pod replicas for auto-scaling"
  default     = {{min_replicas}}
}

variable "max_replicas" {
  type        = number
  description = "Maximum number of pod replicas for auto-scaling"
  default     = {{max_replicas}}
}

variable "cpu_millicores" {
  type        = number
  description = "CPU limit in millicores (1000m = 1 CPU core)"
  default     = {{cpu_millicores}}
}

variable "memory_mb" {
  type        = number
  description = "Memory limit in MB"
  default     = {{memory_mb}}
}

variable "http_port" {
  type        = number
  description = "Container HTTP port to expose"
  default     = {{http_port}}
}

variable "healthcheck_uri" {
  type        = string
  description = "HTTP path for health check endpoint"
  default     = "{{healthcheck_uri}}"
}

variable "service_type" {
  type        = string
  description = "Kubernetes service type"
  default     = "{{service_type}}"

  validation {
    condition     = contains(["ClusterIP", "NodePort", "LoadBalancer"], var.service_type)
    error_message = "Service type must be ClusterIP, NodePort, or LoadBalancer"
  }
}
